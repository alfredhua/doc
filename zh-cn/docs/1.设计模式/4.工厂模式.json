{
  "filename": "4.工厂模式.md",
  "__html": "<p>从简单的小作坊------》基本的工厂------》抽象工厂</p>\n<p>1、用户给一个值，工厂返回相应的</p>\n<pre><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">interface</span> <span class=\"hljs-title\">Milk</span> </span>{\n    <span class=\"hljs-function\">String <span class=\"hljs-title\">getMilk</span><span class=\"hljs-params\">()</span></span>;\n}\n\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">MengNiu</span> <span class=\"hljs-keyword\">implements</span> <span class=\"hljs-title\">Milk</span> </span>{\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title\">getMilk</span><span class=\"hljs-params\">()</span> </span>{\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">\"蒙牛\"</span>;\n    }\n\n}\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">YiLi</span> <span class=\"hljs-keyword\">implements</span> <span class=\"hljs-title\">Milk</span> </span>{\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title\">getMilk</span><span class=\"hljs-params\">()</span> </span>{\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">\"伊利\"</span>;\n    }\n\n}\n\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">SimpleFactory</span> </span>{\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> Milk <span class=\"hljs-title\">getMilk</span><span class=\"hljs-params\">(String name)</span></span>{\n\n        <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-string\">\"mengniu\"</span>.equals(name)){\n            <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> MengNiu();\n        }\n        <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-string\">\"yili\"</span>.equals(name)){\n            <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> YiLi();\n        }\n\n        <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-string\">\"sanlu\"</span>.equals(name)){\n            <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> SanLv();\n        }\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">null</span>;\n    }\n}\n\n</code></pre>\n<p>2、需要哪个自己new一个对应的工厂。</p>\n<pre><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">interface</span> <span class=\"hljs-title\">Factory</span> </span>{\n\n    <span class=\"hljs-function\">Milk <span class=\"hljs-title\">getMilk</span><span class=\"hljs-params\">()</span></span>;\n}\n\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">MengNiuFactory</span> <span class=\"hljs-keyword\">implements</span> <span class=\"hljs-title\">Factory</span> </span>{\n\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> Milk <span class=\"hljs-title\">getMilk</span><span class=\"hljs-params\">()</span> </span>{\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> MengNiu();\n    }\n\n}\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">YiLiFactory</span> <span class=\"hljs-keyword\">implements</span> <span class=\"hljs-title\">Factory</span> </span>{\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> Milk <span class=\"hljs-title\">getMilk</span><span class=\"hljs-params\">()</span> </span>{\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> YiLi();\n    }\n}\n\n\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">FactoryTest</span> </span>{\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">main</span><span class=\"hljs-params\">(String[] args)</span></span>{\n            Factory factory=<span class=\"hljs-keyword\">new</span> YiLiFactory();\n            factory.getMilk().getMilk();\n    }\n}\n\n</code></pre>\n<p>3、抽象工厂，用户只需要自己选择即可。不用关心任何其他的。</p>\n<pre><code class=\"language-java\">\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">abstract</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">AbstractFactory</span>  </span>{\n\n    <span class=\"hljs-comment\">//可以执行一些所有工厂统一标准</span>\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">abstract</span> Milk <span class=\"hljs-title\">getYiLi</span><span class=\"hljs-params\">()</span></span>;\n\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">abstract</span> Milk <span class=\"hljs-title\">getSanLu</span><span class=\"hljs-params\">()</span></span>;\n\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">abstract</span> Milk <span class=\"hljs-title\">getMengNiu</span><span class=\"hljs-params\">()</span></span>;\n\n}\n\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">MilkFactory</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">AbstractFactory</span> </span>{\n\n\n    <span class=\"hljs-function\">Milk <span class=\"hljs-title\">getYiLi</span><span class=\"hljs-params\">()</span></span>{\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> YiLiFactory().getMilk();\n    }\n\n    <span class=\"hljs-function\">Milk <span class=\"hljs-title\">getSanLu</span><span class=\"hljs-params\">()</span></span>{\n        <span class=\"hljs-comment\">//这里都可以直接new SanLu();</span>\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> SanLuFactory().getMilk();\n    }\n\n    <span class=\"hljs-function\">Milk <span class=\"hljs-title\">getMengNiu</span><span class=\"hljs-params\">()</span></span>{\n\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> MengNiuFactory().getMilk();\n    }\n}\n\n</code></pre>\n",
  "link": "/zh-cn/docs/1.设计模式/4.工厂模式.html",
  "meta": {
    "title": "工厂模式-码农阿华",
    "keywords": "工厂模式，设计模式",
    "description": "工厂模式。"
  }
}