{
  "filename": "5.Mysql迁移.md",
  "__html": "<p>MySQL引擎用于将远程的MySQL服务器中的表映射到ClickHouse中，并允许您对表进行<code>INSERT</code>和<code>SELECT</code>查询，以方便您在ClickHouse与MySQL之间进行数据交换。</p>\n<p><code>MySQL</code>数据库引擎会将对其的查询转换为MySQL语法并发送到MySQL服务器中，因此您可以执行诸如<code>SHOW TABLES</code>或<code>SHOW CREATE TABLE</code>之类的操作。</p>\n<p>但您无法对其执行以下操作：</p>\n<ul>\n<li><code>RENAME</code></li>\n<li><code>CREATE TABLE</code></li>\n<li><code>ALTER</code></li>\n</ul>\n<pre><code class=\"language-sql\"><span class=\"hljs-keyword\">CREATE</span> <span class=\"hljs-keyword\">DATABASE</span> [<span class=\"hljs-keyword\">IF</span> <span class=\"hljs-keyword\">NOT</span> <span class=\"hljs-keyword\">EXISTS</span>] db_name [<span class=\"hljs-keyword\">ON</span> CLUSTER cluster]\n<span class=\"hljs-keyword\">ENGINE</span> = MySQL(<span class=\"hljs-string\">'host:port'</span>, [<span class=\"hljs-string\">'database'</span> | <span class=\"hljs-keyword\">database</span>], <span class=\"hljs-string\">'user'</span>, <span class=\"hljs-string\">'password'</span>)\n</code></pre>\n<h3 id=\"mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BC%95%E6%93%8E%E5%8F%82%E6%95%B0\">MySQL数据库引擎参数 <a class=\"header-anchor\" href=\"#mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BC%95%E6%93%8E%E5%8F%82%E6%95%B0\">#</a></h3>\n<ul>\n<li><code>host:port</code> — 链接的MySQL地址。</li>\n<li><code>database</code> — 链接的MySQL数据库。</li>\n<li><code>user</code> — 链接的MySQL用户。</li>\n<li><code>password</code> — 链接的MySQL用户密码。</li>\n</ul>\n<h3 id=\"%E6%94%AF%E6%8C%81%E7%9A%84%E7%B1%BB%E5%9E%8B%E5%AF%B9%E5%BA%94\">支持的类型对应 <a class=\"header-anchor\" href=\"#%E6%94%AF%E6%8C%81%E7%9A%84%E7%B1%BB%E5%9E%8B%E5%AF%B9%E5%BA%94\">#</a></h3>\n<table>\n<thead>\n<tr>\n<th>MySQL</th>\n<th>ClickHouse</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>UNSIGNED TINYINT</td>\n<td><a href=\"https://clickhouse.tech/docs/zh/sql-reference/data-types/int-uint/\">UInt8</a></td>\n</tr>\n<tr>\n<td>TINYINT</td>\n<td><a href=\"https://clickhouse.tech/docs/zh/sql-reference/data-types/int-uint/\">Int8</a></td>\n</tr>\n<tr>\n<td>UNSIGNED SMALLINT</td>\n<td><a href=\"https://clickhouse.tech/docs/zh/sql-reference/data-types/int-uint/\">UInt16</a></td>\n</tr>\n<tr>\n<td>SMALLINT</td>\n<td><a href=\"https://clickhouse.tech/docs/zh/sql-reference/data-types/int-uint/\">Int16</a></td>\n</tr>\n<tr>\n<td>UNSIGNED INT, UNSIGNED MEDIUMINT</td>\n<td><a href=\"https://clickhouse.tech/docs/zh/sql-reference/data-types/int-uint/\">UInt32</a></td>\n</tr>\n<tr>\n<td>INT, MEDIUMINT</td>\n<td><a href=\"https://clickhouse.tech/docs/zh/sql-reference/data-types/int-uint/\">Int32</a></td>\n</tr>\n<tr>\n<td>UNSIGNED BIGINT</td>\n<td><a href=\"https://clickhouse.tech/docs/zh/sql-reference/data-types/int-uint/\">UInt64</a></td>\n</tr>\n<tr>\n<td>BIGINT</td>\n<td><a href=\"https://clickhouse.tech/docs/zh/sql-reference/data-types/int-uint/\">Int64</a></td>\n</tr>\n<tr>\n<td>FLOAT</td>\n<td><a href=\"https://clickhouse.tech/docs/zh/sql-reference/data-types/float/\">Float32</a></td>\n</tr>\n<tr>\n<td>DOUBLE</td>\n<td><a href=\"https://clickhouse.tech/docs/zh/sql-reference/data-types/float/\">Float64</a></td>\n</tr>\n<tr>\n<td>DATE</td>\n<td><a href=\"https://clickhouse.tech/docs/zh/sql-reference/data-types/date/\">日期</a></td>\n</tr>\n<tr>\n<td>DATETIME, TIMESTAMP</td>\n<td><a href=\"https://clickhouse.tech/docs/zh/sql-reference/data-types/datetime/\">日期时间</a></td>\n</tr>\n<tr>\n<td>BINARY</td>\n<td><a href=\"https://clickhouse.tech/docs/zh/sql-reference/data-types/fixedstring/\">固定字符串</a></td>\n</tr>\n</tbody>\n</table>\n<p>其他的MySQL数据类型将全部都转换为<a href=\"https://clickhouse.tech/docs/zh/sql-reference/data-types/string/\">字符串</a>。</p>\n<p>同时以上的所有类型都支持<a href=\"https://clickhouse.tech/docs/zh/sql-reference/data-types/nullable/\">可为空</a>。</p>\n<h3 id=\"demo\">DEMO <a class=\"header-anchor\" href=\"#demo\">#</a></h3>\n<p>mysql操作：</p>\n<pre><code class=\"language-sql\"><span class=\"hljs-keyword\">USE</span> <span class=\"hljs-keyword\">test</span>;\n\n<span class=\"hljs-keyword\">CREATE</span> <span class=\"hljs-keyword\">TABLE</span> <span class=\"hljs-string\">`mysql_table`</span> (\n     <span class=\"hljs-string\">`int_id`</span> <span class=\"hljs-built_in\">INT</span> <span class=\"hljs-keyword\">NOT</span> <span class=\"hljs-literal\">NULL</span> AUTO_INCREMENT,\n     <span class=\"hljs-string\">`float`</span> <span class=\"hljs-built_in\">FLOAT</span> <span class=\"hljs-keyword\">NOT</span> <span class=\"hljs-literal\">NULL</span>,\n      PRIMARY <span class=\"hljs-keyword\">KEY</span> (<span class=\"hljs-string\">`int_id`</span>)\n);\n<span class=\"hljs-keyword\">insert</span> <span class=\"hljs-keyword\">into</span> mysql_table (<span class=\"hljs-string\">`int_id`</span>, <span class=\"hljs-string\">`float`</span>) <span class=\"hljs-keyword\">VALUES</span> (<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">2</span>);\n\n<span class=\"hljs-keyword\">select</span> * <span class=\"hljs-keyword\">from</span> mysql_table;\n</code></pre>\n<p>clickhouse操作</p>\n<pre><code class=\"language-sql\"><span class=\"hljs-keyword\">CREATE</span> <span class=\"hljs-keyword\">DATABASE</span> mysql_db <span class=\"hljs-keyword\">ENGINE</span> = MySQL(<span class=\"hljs-string\">'localhost:3306'</span>, <span class=\"hljs-string\">'test'</span>, <span class=\"hljs-string\">'my_user'</span>, <span class=\"hljs-string\">'user_password'</span>)\n\n<span class=\"hljs-keyword\">SHOW</span> <span class=\"hljs-keyword\">DATABASES</span>\n\n<span class=\"hljs-keyword\">SHOW</span> <span class=\"hljs-keyword\">TABLES</span> <span class=\"hljs-keyword\">FROM</span> mysql_db\n\n<span class=\"hljs-keyword\">SELECT</span> * <span class=\"hljs-keyword\">FROM</span> mysql_db.mysql_table\n\n<span class=\"hljs-keyword\">INSERT</span> <span class=\"hljs-keyword\">INTO</span> mysql_db.mysql_table <span class=\"hljs-keyword\">VALUES</span> (<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">4</span>)\n\n<span class=\"hljs-keyword\">SELECT</span> * <span class=\"hljs-keyword\">FROM</span> mysql_db.mysql_table\n\n</code></pre>\n",
  "link": "/zh-cn/docs/3.数据库/clickhouse/5.Mysql迁移.html",
  "meta": {}
}