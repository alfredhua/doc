<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="keywords" content="5.Index操作" />
	<meta name="description" content="5.Index操作" />
	<!-- 网页标签标题 -->
	<title>5.Index操作</title>
	<link rel="shortcut icon" href="/img/docsite.ico"/>
	<link rel="stylesheet" href="/build/documentation.css" />
</head>
<body>
	<div id="root"><div class="documentation-page" data-reactroot=""><header class="header-container header-container-normal"><div class="header-body"><a class="logo" href="/zh-cn/index.html"><span class="logo-normal">码农阿华| <span class="logo-desc">玩玩技术，说说产品</span></span></a><div class="search search-normal"><span class="icon-search"></span></div><div class="header-menu"><img class="header-menu-toggle" src="/img/system/menu_gray.png"/><ul><li class="menu-item menu-item-normal"><a href="/zh-cn/index.html" target="_self">首页</a></li><li class="menu-item menu-item-normal menu-item-normal-active"><a href="/zh-cn/docs/begin.html" target="_self">文档</a></li><li class="menu-item menu-item-normal"><a href="/zh-cn/blog/index.html" target="_self">博客</a></li></ul></div></div></header><div class="bar"><div class="bar-body"><img src="/img/system/docs.png" class="front-img"/><span>文档</span><img src="/img/system/docs.png" class="back-img"/></div></div><section class="content-section"><div class="sidemenu"><div class="sidemenu-toggle"><img src="https://img.alicdn.com/tfs/TB1E6apXHGYBuNjy0FoXXciBFXa-200-200.png"/></div><ul><li class="menu-item menu-item-level-1"><span>设计模式</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>设计原则<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/1.设计模式/1.单一职责.html" target="_self">单一职责</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/1.设计模式/2.开闭原则.html" target="_self">开闭原则</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/1.设计模式/3.接口隔离原则.html" target="_self">接口隔离原则</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/1.设计模式/1.单一职责.html" target="_self">单一职责</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/1.设计模式/1.单一职责.html" target="_self">单一职责</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/1.设计模式/1.单一职责.html" target="_self">单一职责</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/1.设计模式/1.单一职责.html" target="_self">单一职责</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/1.设计模式/1.单一职责.html" target="_self">单一职责</a></li></ul></li></ul></li><li class="menu-item menu-item-level-1"><span>JAVA</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>目录<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/dir/demo3.html" target="_self">示例3</a></li></ul></li></ul></li></ul></div><div class="doc-content markdown-body"><h2 id="index-%E7%9B%B8%E5%85%B3-api">Index 相关 API <a class="header-anchor" href="#index-%E7%9B%B8%E5%85%B3-api">#</a></h2>
<h3 id="%E6%9F%A5%E7%9C%8B%E7%B4%A2%E5%BC%95%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF">查看索引相关信息 <a class="header-anchor" href="#%E6%9F%A5%E7%9C%8B%E7%B4%A2%E5%BC%95%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF">#</a></h3>
<pre><code class="language-shell">GET movies
</code></pre>
<h3 id="%E6%9F%A5%E7%9C%8B%E7%B4%A2%E5%BC%95%E7%9A%84%E6%96%87%E6%A1%A3%E6%80%BB%E6%95%B0">查看索引的文档总数 <a class="header-anchor" href="#%E6%9F%A5%E7%9C%8B%E7%B4%A2%E5%BC%95%E7%9A%84%E6%96%87%E6%A1%A3%E6%80%BB%E6%95%B0">#</a></h3>
<pre><code class="language-shell">GET movies/_count
</code></pre>
<h3 id="%E6%9F%A5%E7%9C%8B%E5%89%8D10%E6%9D%A1%E6%96%87%E6%A1%A3%EF%BC%8C%E4%BA%86%E8%A7%A3%E6%96%87%E6%A1%A3%E6%A0%BC%E5%BC%8F">查看前10条文档，了解文档格式 <a class="header-anchor" href="#%E6%9F%A5%E7%9C%8B%E5%89%8D10%E6%9D%A1%E6%96%87%E6%A1%A3%EF%BC%8C%E4%BA%86%E8%A7%A3%E6%96%87%E6%A1%A3%E6%A0%BC%E5%BC%8F">#</a></h3>
<pre><code class="language-shell">POST movies/_search
{}
</code></pre>
<h2 id="_cat-indices-api">_cat indices API <a class="header-anchor" href="#_cat-indices-api">#</a></h2>
<blockquote>
<p>返回关于集群中索引的高级信息，如分片数、文档数、已删除的文档数、主存储大小、包括副本分片在内的分片总存储大小。indices接受一个可选的路径参数：逗号分隔的索引名列表，接受通配符表达式。除<a href="https://blog.csdn.net/asty9000/article/details/98440454">catAPI公共参数</a>外，还支持四个参数：local、master_timout、pri和health。如果local为true，则只从本地节点检索信息，默认为false，从主节点检索信息。master_timout指定连接主节点的超时时间。如果超时前没有收到响应，则请求失败并返回错误，默认为<a href="https://blog.csdn.net/asty9000/article/details/98440454#t1">30s</a>。如果pri为true，则只返回索引主分片的信息，默认为false。health索引的健康状态，可选值有green、yellow、red。可展示的信息如下：</p>
</blockquote>
<table>
<thead>
<tr>
<th><strong>列名</strong></th>
<th><strong>简写</strong></th>
<th><strong>默认显示 （默认否）</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>health</td>
<td>h</td>
<td>是</td>
<td>当前健康状态。</td>
</tr>
<tr>
<td>status</td>
<td>s</td>
<td>是</td>
<td>打开/关闭状态。</td>
</tr>
<tr>
<td>index</td>
<td>i,idx</td>
<td>是</td>
<td>索引名。</td>
</tr>
<tr>
<td>uuid</td>
<td>id,uuid</td>
<td>是</td>
<td>索引uuid。</td>
</tr>
<tr>
<td>pri</td>
<td>p,shards.primary,shardsPrimary</td>
<td>是</td>
<td>主分片数。</td>
</tr>
<tr>
<td>rep</td>
<td>r,shards.replica,shardsReplica</td>
<td>是</td>
<td>副本分片数。</td>
</tr>
<tr>
<td>docs.count</td>
<td>dc,docsCount</td>
<td>是</td>
<td>可用文档数。</td>
</tr>
<tr>
<td>docs.deleted</td>
<td>dd,docsDeleted</td>
<td>是</td>
<td>已删除文档数。</td>
</tr>
<tr>
<td>store.size</td>
<td>ss,storeSize</td>
<td>是</td>
<td>主分片、副本分片总存储大小。</td>
</tr>
<tr>
<td>pri.store.size</td>
<td></td>
<td>是</td>
<td>主分片存储大小。</td>
</tr>
<tr>
<td>creation.date</td>
<td>cd</td>
<td></td>
<td>索引创建时间（毫秒）。</td>
</tr>
<tr>
<td>creation.date.string</td>
<td>cds</td>
<td></td>
<td>索引创建时间（字符串）。</td>
</tr>
<tr>
<td>search.throttled</td>
<td>sth</td>
<td></td>
<td>索引是否被搜索节流限制。</td>
</tr>
</tbody>
</table>
<h3 id="%E6%9F%A5%E7%9C%8Bindices">查看indices <a class="header-anchor" href="#%E6%9F%A5%E7%9C%8Bindices">#</a></h3>
<pre><code class="language-shell">GET /_cat/indices/*?v&amp;s=index
</code></pre>
<h3 id="%E6%9F%A5%E7%9C%8B%E7%8A%B6%E6%80%81%E4%B8%BA%E7%BB%BF%E7%9A%84%E7%B4%A2%E5%BC%95">查看状态为绿的索引 <a class="header-anchor" href="#%E6%9F%A5%E7%9C%8B%E7%8A%B6%E6%80%81%E4%B8%BA%E7%BB%BF%E7%9A%84%E7%B4%A2%E5%BC%95">#</a></h3>
<pre><code class="language-shell">GET /_cat/indices?v&amp;health=green
</code></pre>
<h2 id="%E6%8C%89%E7%85%A7%E6%96%87%E6%A1%A3%E4%B8%AA%E6%95%B0%E6%8E%92%E5%BA%8F">按照文档个数排序 <a class="header-anchor" href="#%E6%8C%89%E7%85%A7%E6%96%87%E6%A1%A3%E4%B8%AA%E6%95%B0%E6%8E%92%E5%BA%8F">#</a></h2>
<pre><code class="language-shell">GET /_cat/indices?v&amp;s=docs.count:desc
</code></pre>
</div></section><footer class="footer-container"><div class="footer-body"><div class="cols-container"><div class="col col-12"><h3>码农阿华</h3><p>联系邮箱：alfredhua@aliyun.com</p></div><div class="col col-6"><dl><dt>文档</dt><dd><a href="/zh-cn/docs/demo1.html" target="_self">概览</a></dd></dl></div><div class="col col-6"><dl><dt>资源</dt><dd><a href="/zh-cn/blog/index.html" target="_self">博客</a></dd></dl></div></div><div class="copyright"><span>CopyRight©2019 版权所有 码农阿华 京ICP备19044364号</span></div></div></footer></div></div>
	<script src="https://f.alicdn.com/react/15.4.1/react-with-addons.min.js"></script>
	<script src="https://f.alicdn.com/react/15.4.1/react-dom.min.js"></script>
	<script>
		window.rootPath = '';
  </script>
	<script src="/build/documentation.js"></script>
</body>
</html>