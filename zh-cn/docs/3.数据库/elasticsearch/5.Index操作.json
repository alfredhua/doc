{
  "filename": "5.Index操作.md",
  "__html": "<h2 id=\"index-%E7%9B%B8%E5%85%B3-api\">Index 相关 API <a class=\"header-anchor\" href=\"#index-%E7%9B%B8%E5%85%B3-api\">#</a></h2>\n<h3 id=\"%E6%9F%A5%E7%9C%8B%E7%B4%A2%E5%BC%95%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF\">查看索引相关信息 <a class=\"header-anchor\" href=\"#%E6%9F%A5%E7%9C%8B%E7%B4%A2%E5%BC%95%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF\">#</a></h3>\n<pre><code class=\"language-shell\">GET movies\n</code></pre>\n<h3 id=\"%E6%9F%A5%E7%9C%8B%E7%B4%A2%E5%BC%95%E7%9A%84%E6%96%87%E6%A1%A3%E6%80%BB%E6%95%B0\">查看索引的文档总数 <a class=\"header-anchor\" href=\"#%E6%9F%A5%E7%9C%8B%E7%B4%A2%E5%BC%95%E7%9A%84%E6%96%87%E6%A1%A3%E6%80%BB%E6%95%B0\">#</a></h3>\n<pre><code class=\"language-shell\">GET movies/_count\n</code></pre>\n<h3 id=\"%E6%9F%A5%E7%9C%8B%E5%89%8D10%E6%9D%A1%E6%96%87%E6%A1%A3%EF%BC%8C%E4%BA%86%E8%A7%A3%E6%96%87%E6%A1%A3%E6%A0%BC%E5%BC%8F\">查看前10条文档，了解文档格式 <a class=\"header-anchor\" href=\"#%E6%9F%A5%E7%9C%8B%E5%89%8D10%E6%9D%A1%E6%96%87%E6%A1%A3%EF%BC%8C%E4%BA%86%E8%A7%A3%E6%96%87%E6%A1%A3%E6%A0%BC%E5%BC%8F\">#</a></h3>\n<pre><code class=\"language-shell\">POST movies/_search\n{}\n</code></pre>\n<h2 id=\"_cat-indices-api\">_cat indices API <a class=\"header-anchor\" href=\"#_cat-indices-api\">#</a></h2>\n<blockquote>\n<p>返回关于集群中索引的高级信息，如分片数、文档数、已删除的文档数、主存储大小、包括副本分片在内的分片总存储大小。indices接受一个可选的路径参数：逗号分隔的索引名列表，接受通配符表达式。除<a href=\"https://blog.csdn.net/asty9000/article/details/98440454\">catAPI公共参数</a>外，还支持四个参数：local、master_timout、pri和health。如果local为true，则只从本地节点检索信息，默认为false，从主节点检索信息。master_timout指定连接主节点的超时时间。如果超时前没有收到响应，则请求失败并返回错误，默认为<a href=\"https://blog.csdn.net/asty9000/article/details/98440454#t1\">30s</a>。如果pri为true，则只返回索引主分片的信息，默认为false。health索引的健康状态，可选值有green、yellow、red。可展示的信息如下：</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th><strong>列名</strong></th>\n<th><strong>简写</strong></th>\n<th><strong>默认显示 （默认否）</strong></th>\n<th><strong>说明</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>health</td>\n<td>h</td>\n<td>是</td>\n<td>当前健康状态。</td>\n</tr>\n<tr>\n<td>status</td>\n<td>s</td>\n<td>是</td>\n<td>打开/关闭状态。</td>\n</tr>\n<tr>\n<td>index</td>\n<td>i,idx</td>\n<td>是</td>\n<td>索引名。</td>\n</tr>\n<tr>\n<td>uuid</td>\n<td>id,uuid</td>\n<td>是</td>\n<td>索引uuid。</td>\n</tr>\n<tr>\n<td>pri</td>\n<td>p,shards.primary,shardsPrimary</td>\n<td>是</td>\n<td>主分片数。</td>\n</tr>\n<tr>\n<td>rep</td>\n<td>r,shards.replica,shardsReplica</td>\n<td>是</td>\n<td>副本分片数。</td>\n</tr>\n<tr>\n<td>docs.count</td>\n<td>dc,docsCount</td>\n<td>是</td>\n<td>可用文档数。</td>\n</tr>\n<tr>\n<td>docs.deleted</td>\n<td>dd,docsDeleted</td>\n<td>是</td>\n<td>已删除文档数。</td>\n</tr>\n<tr>\n<td>store.size</td>\n<td>ss,storeSize</td>\n<td>是</td>\n<td>主分片、副本分片总存储大小。</td>\n</tr>\n<tr>\n<td>pri.store.size</td>\n<td></td>\n<td>是</td>\n<td>主分片存储大小。</td>\n</tr>\n<tr>\n<td>creation.date</td>\n<td>cd</td>\n<td></td>\n<td>索引创建时间（毫秒）。</td>\n</tr>\n<tr>\n<td>creation.date.string</td>\n<td>cds</td>\n<td></td>\n<td>索引创建时间（字符串）。</td>\n</tr>\n<tr>\n<td>search.throttled</td>\n<td>sth</td>\n<td></td>\n<td>索引是否被搜索节流限制。</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"%E6%9F%A5%E7%9C%8Bindices\">查看indices <a class=\"header-anchor\" href=\"#%E6%9F%A5%E7%9C%8Bindices\">#</a></h3>\n<pre><code class=\"language-shell\">GET /_cat/indices/*?v&amp;s=index\n</code></pre>\n<h3 id=\"%E6%9F%A5%E7%9C%8B%E7%8A%B6%E6%80%81%E4%B8%BA%E7%BB%BF%E7%9A%84%E7%B4%A2%E5%BC%95\">查看状态为绿的索引 <a class=\"header-anchor\" href=\"#%E6%9F%A5%E7%9C%8B%E7%8A%B6%E6%80%81%E4%B8%BA%E7%BB%BF%E7%9A%84%E7%B4%A2%E5%BC%95\">#</a></h3>\n<pre><code class=\"language-shell\">GET /_cat/indices?v&amp;health=green\n</code></pre>\n<h2 id=\"%E6%8C%89%E7%85%A7%E6%96%87%E6%A1%A3%E4%B8%AA%E6%95%B0%E6%8E%92%E5%BA%8F\">按照文档个数排序 <a class=\"header-anchor\" href=\"#%E6%8C%89%E7%85%A7%E6%96%87%E6%A1%A3%E4%B8%AA%E6%95%B0%E6%8E%92%E5%BA%8F\">#</a></h2>\n<pre><code class=\"language-shell\">GET /_cat/indices?v&amp;s=docs.count:desc\n</code></pre>\n",
  "link": "/zh-cn/docs/3.数据库/elasticsearch/5.Index操作.html",
  "meta": {}
}